(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{dtc6:function(t,a,e){"use strict";e.r(a);var s=e("gR0X"),n={name:"CandidateChatList",components:{Avatar:e("m/BY").default},data:function(){return{items:[]}},mounted:function(){this.getChatList()},methods:{getChatList:function(){var t=this.parseResponse;s.b.getListConversationByMemberid({pageIndex:1,pageSize:10},t)},parseResponse:function(t,a){null==t&&null!=a.data&&0==a.data.errorCode&&(this.items=a.data.data)},getCountDown:function(t){var a=remainTimeAgo(t.lastSend),e="";return a.seconds>0&&(e=a.seconds+" "+$t("jwork.web_second_ago")),a.minutes>0&&(e=a.minutes+" "+$t("jwork.web_minute_ago")),a.hours>0&&(e=a.hours+" "+$t("jwork.web_hour_ago")),a.days>0&&(e=a.days+" "+$t("jwork.web_day_ago")),e},onChat:function(t){if(null!=t&&null!=t.receiverId&&null!=t.conversationId){var a={receiverId:t.receiverId,activeWindow:1,name:t.name||t.email||t.contactEmail,avatar:t.avatar,conversationId:t.conversationId};if(this.$store.dispatch("chat/setConversionId",a),!t.isRead){var e={conversationId:t.conversationId};this.$store.dispatch("chat/changeIsread",{params:e,callback:null})}}}}},i=e("KHd+"),r=Object(i.a)(n,function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.items&&t.items.length>0?e("div",{staticClass:"wrap-new-candidate mt-4",attrs:{id:"rap-new-candidate"}},[e("div",{staticClass:"title-new-candidate"},[t._v(t._s(t.$t("jwork.web_chat_request")))]),t._v(" "),e("ul",{staticClass:"p-0 list"},t._l(t.items,function(a,s){return e("li",{key:s,on:{click:function(e){return e.preventDefault(),t.onChat(a)}}},[e("article",{staticClass:"acticle-new-candidate clearfix"},[e("div",{staticClass:"img-thumb"},[e("span",{staticClass:"image",attrs:{title:""}},[e("Avatar",{attrs:{avatar:a.avatar,name:a.name}})],1)]),t._v(" "),e("div",{staticClass:"info pt-1"},[e("h3",{staticClass:"title mb-2",attrs:{"data-id":a.id}},[e("span",[t._v(t._s(a.name?a.name:a.contactEmail?a.contactEmail:" "))])]),t._v(" "),e("div",{staticClass:"wrap-meta d-flex"},[e("div",{staticClass:"star-rating mr-auto"},[e("p",{staticClass:"intro"},[t._v(t._s(a.lastMessage?a.lastMessage:" "))])]),t._v(" "),e("div",{staticClass:"time-cmt"},[t._v(t._s(t.getCountDown(a)))])])])])])}),0)]):t._e()},[],!1,null,null,null);a.default=r.exports}}]);