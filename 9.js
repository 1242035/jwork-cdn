(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{VnXj:function(e,t,a){var r=a("Z2r/");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(r,i);r.locals&&(e.exports=r.locals)},YZwr:function(e,t,a){"use strict";var r=a("VnXj");a.n(r).a},"Z2r/":function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.el-input__prefix{\r\n    right:5px !important;\r\n    left: unset;\n}\n.el-date-editor.el-input, .el-date-editor.el-input__inner {\r\n    width: 100% !important;\n}\n.el-input__inner{\r\n    border: none !important;\n}\n.el-input--prefix .el-input__inner {\r\n    padding-left: 0px;\r\n    margin-left: 0px;\n}\r\n",""])},tsLD:function(e,t,a){"use strict";a.r(t);var r=a("L2JU"),i=a("inFS");function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o={name:"CandidateMemberCard",validations:{},watch:{"memberCards.data":function(e){this.item=_.merge(this.item,e)}},computed:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){n(e,t,a[t])})}return e}({},Object(r.b)({memberCards:function(e){return e.candidate.memberCards},residentTypes:function(e){return e.resource.resources.data.residentType}}),{cardImage1:function(){return this.item.cardImage1||"http://placehold.it/334"},cardImage2:function(){return this.item.cardImage2||"http://placehold.it/334"},arrResidentType:function(){var e=_.clone(this.residentTypes),t=[];return _.map(e,function(e){if(1==e.status)return t.push(e),e}),t}}),data:function(){return{item:{residentTypeId:0,cardCode:"",cardDate:"",cardImage1:"",cardImage2:""},cardImageOneUploading:!1,cardImageTwoUploading:!1}},mounted:function(){this.cardGetOne()},methods:{cardGetOne:function(){this.$store.dispatch("candidate/cardGetOne",{})},getAllResidentType:function(){this.$store.dispatch("resource/getAllResidentType",{})},onChangeCardOne:function(){var e=this,t=this.$refs.fileOne.files[0];if(null!=t&&this.beforeUpload(t)){this.cardImageOneUploading=!0;var a=new FormData;a.append("file",t),i.a.upload(a).then(function(t){null!=t&&null!=t.data&&null!=t.data.code&&200==t.data.code&&(e.item.cardImage1=t.data.url),e.cardImageOneUploading=!1}).catch(function(t){e.cardImageOneUploading=!1}),this.$v.item.cardImage1.$touch()}},onChangeCardTwo:function(){var e=this,t=this.$refs.fileTwo.files[0];if(null!=t&&this.beforeUpload(t)){this.cardImageTwoUploading=!0;var a=new FormData;a.append("file",t),i.a.upload(a).then(function(t){null!=t&&null!=t.data&&null!=t.data.code&&200==t.data.code&&(e.item.cardImage2=t.data.url),e.cardImageTwoUploading=!1}).catch(function(t){e.cardImageTwoUploading=!1}),this.$v.item.cardImage2.$touch()}},beforeUpload:function(e){var t=e.size||Number.MAX_SAFE_INTEGER,a=e.type||"",r=window.__ENV__.upload.candidate.card_max||Number.MIN_SAFE_INTEGER,i=window.__ENV__.upload.candidate.card_type||[];if(_.isArray(i)||(i=Array(i)),t>r)return this.$notify({title:"",message:$t("jwork.upload_max_filesize_error",{size:t,max:r}),type:"error",position:"bottom-right"}),!1;if(i.indexOf(a)<0){var n=i;return this.$notify({title:"",message:$t("jwork.upload_filetype_error",{type:a,types:n}),type:"error",position:"bottom-right"}),!1}return!0},upload:function(){},onSave:function(){null!=this.item.id&&this.item.id>0?this.$store.dispatch("candidate/cardUpdate",this.item):this.$store.dispatch("candidate/cardAdd",this.item),this.$emit("onSave",this.item)}}},s=(a("YZwr"),a("KHd+")),c=Object(s.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ab"},[a("div",{staticClass:"head text-center"},[a("img",{staticClass:"img-fluid mb-3",attrs:{src:"/imgs-fix/about4.png"}}),e._v(" "),a("p",[e._v(" "+e._s(e.$t("jwork.info_residence_card")))])]),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"form-group about col-md-12 col-lg-12 col-sm-12 col-12"},[a("label",{attrs:{for:""}},[e._v(e._s(e.$t("jwork.web_status_residence")))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.item.residentTypeId,expression:"item.residentTypeId"}],staticClass:"form-control",attrs:{type:"text"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.item,"residentTypeId",t.target.multiple?a:a[0])}}},e._l(e.arrResidentType,function(t,r){return a("option",{key:r,domProps:{value:t.id}},[e._v(e._s(t.name)+" ")])}),0)]),e._v(" "),a("div",{staticClass:"form-group about col-md-12 col-lg-12 col-sm-12 col-12"},[a("label",{attrs:{for:""}},[e._v(e._s(e.$t("jwork.residence_card_number")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.item.cardCode,expression:"item.cardCode"}],staticClass:"form-control about input-text",attrs:{type:"text",placeholder:e.$t("jwork.residence_card_number")},domProps:{value:e.item.cardCode},on:{input:function(t){t.target.composing||e.$set(e.item,"cardCode",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group about col-md-12 col-lg-12 col-sm-12 col-12"},[a("label",{attrs:{for:""}},[e._v(e._s(e.$t("jwork.residence_card_expire_date")))]),e._v(" "),a("el-date-picker",{staticClass:"form-control",attrs:{type:"date",placeholder:e.$t("jwork.birthday")},model:{value:e.item.cardDate,callback:function(t){e.$set(e.item,"cardDate",t)},expression:"item.cardDate"}})],1),e._v(" "),a("div",{staticClass:"form-group about col-md-12 col-lg-12 col-sm-12 col-12"},[a("label",{staticClass:"my-4",attrs:{for:""}},[e._v(e._s(e.$t("jwork.web_image_residence_card_front_back")))]),e._v(" "),a("div",{staticClass:"row"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.cardImageOneUploading,expression:"cardImageOneUploading"}],staticClass:"col-md-6 col-lg-6 col-sm-6 col-6",attrs:{title:e.$t("jwork.web_candidate_card_up_interface")}},[a("img",{staticClass:"mb-2 w-90 img-fluid img-thumbnail rounded mx-auto d-block",attrs:{src:e.cardImage1,alt:"your image"}})]),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.cardImageTwoUploading,expression:"cardImageTwoUploading"}],staticClass:"col-md-6 col-lg-6 col-sm-6 col-6",attrs:{title:e.$t("jwork.web_candidate_card_below_interface")}},[a("img",{staticClass:"mb-2 w-90 img-fluid img-thumbnail rounded mx-auto d-block",attrs:{src:e.cardImage2,alt:"your image"}})])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 col-lg-6 col-sm-6 col-6"},[a("input",{ref:"fileOne",attrs:{type:"file",title:e.$t("jwork.web_candidate_card_up_interface")},on:{change:e.onChangeCardOne}})]),e._v(" "),a("div",{staticClass:"col-md-6 col-lg-6 col-sm-6 col-6"},[a("input",{ref:"fileTwo",attrs:{type:"file",title:e.$t("jwork.web_candidate_card_below_interface")},on:{change:e.onChangeCardTwo}})])])])]),e._v(" "),a("div",{staticClass:"text-center save"},[a("button",{staticClass:"btn btn-view-more",attrs:{role:"button"},on:{click:function(t){return t.preventDefault(),e.onSave(t)}}},[a("i",{staticClass:"fas fa-check mr-2"}),e._v("  "+e._s(e.$t("jwork.Save"))+" \n        ")])])])},[],!1,null,null,null);t.default=c.exports}}]);